{
  "1": {
    "class_type": "CheckpointLoaderSimple",
    "_comment": "Load your Illustrious XL checkpoint here",
    "inputs": {
      "ckpt_name": "illustriousXLV20_v20Stable.safetensors"
    }
  },
  "2": {
    "class_type": "CLIPSetLastLayer",
    "_comment": "CLIP skip -2 \u2014 important for Illustrious XL",
    "inputs": {
      "clip": [
        "1",
        1
      ],
      "stop_at_clip_layer": -2
    }
  },
  "3": {
    "class_type": "LoraLoader",
    "_comment": "Cowboy Bebop style LoRA \u2014 trigger word: cowboy_bebop_style",
    "inputs": {
      "model": [
        "1",
        0
      ],
      "clip": [
        "2",
        0
      ],
      "lora_name": "cowboy-bebop-style-illustriousxl.safetensors",
      "strength_model": 1.0,
      "strength_clip": 1.0
    }
  },
  "4": {
    "class_type": "CLIPTextEncode",
    "_comment": "Positive prompt",
    "inputs": {
      "clip": [
        "3",
        1
      ],
      "text": "masterpiece, best quality, amazing quality, cowboy_bebop_style, (1girl:1.3), (beautiful woman:1.2), (feminine face:1.3), fair skin, light skin, female, solo, portrait, bust shot, looking at viewer, confident smirk, (long flowing white hair:1.2), silver blue highlights, sharp green eyes, gold hoop earrings, gold chain necklace, oversized dark purple jacket open, black crop top underneath, simple dark background, gradient dark background, retro anime, 90s anime aesthetic, cel shading, flat color, 2d, soft dramatic lighting, highres"
    }
  },
  "5": {
    "class_type": "CLIPTextEncode",
    "_comment": "Negative prompt",
    "inputs": {
      "clip": [
        "3",
        1
      ],
      "text": "worst quality, low quality, blurry, deformed, extra fingers, bad anatomy, watermark, text, signature, 3d, realistic, photorealistic, nsfw, male, man, masculine, dark skin, microphone, background details, complex background, red marks, face markings, scars, wounds, artifacts, distorted face, multiple characters"
    }
  },
  "6": {
    "class_type": "EmptyLatentImage",
    "_comment": "832x1216 portrait \u2014 optimal for Illustrious XL",
    "inputs": {
      "width": 832,
      "height": 1216,
      "batch_size": 1
    }
  },
  "7": {
    "class_type": "KSampler",
    "_comment": "Main generation \u2014 CFG 5.5, euler_ancestral, normal scheduler",
    "inputs": {
      "model": [
        "3",
        0
      ],
      "positive": [
        "4",
        0
      ],
      "negative": [
        "5",
        0
      ],
      "latent_image": [
        "6",
        0
      ],
      "seed": 333444,
      "steps": 30,
      "cfg": 5.5,
      "sampler_name": "euler_ancestral",
      "scheduler": "normal",
      "denoise": 1.0
    }
  },
  "8": {
    "class_type": "LatentUpscaleBy",
    "_comment": "HiRes Fix step 1 \u2014 upscale latent x1.25",
    "inputs": {
      "samples": [
        "7",
        0
      ],
      "upscale_method": "nearest-exact",
      "scale_by": 1.25
    }
  },
  "9": {
    "class_type": "KSampler",
    "_comment": "HiRes Fix step 2 \u2014 refine at higher res, denoise 0.45",
    "inputs": {
      "model": [
        "3",
        0
      ],
      "positive": [
        "4",
        0
      ],
      "negative": [
        "5",
        0
      ],
      "latent_image": [
        "8",
        0
      ],
      "seed": 333444,
      "steps": 20,
      "cfg": 8.0,
      "sampler_name": "euler",
      "scheduler": "normal",
      "denoise": 0.45
    }
  },
  "10": {
    "class_type": "VAEDecode",
    "inputs": {
      "samples": [
        "9",
        0
      ],
      "vae": [
        "1",
        2
      ]
    }
  },
  "11": {
    "class_type": "UltralyticsDetectorProvider",
    "_comment": "FaceDetailer \u2014 detect face with YOLOv8",
    "inputs": {
      "model_name": "bbox/face_yolov8m.pt"
    }
  },
  "12": {
    "class_type": "SAMLoader",
    "_comment": "FaceDetailer \u2014 SAM for precise face mask",
    "inputs": {
      "model_name": "sam_vit_b_01ec64.pth",
      "device_mode": "AUTO"
    }
  },
  "13": {
    "class_type": "FaceDetailer",
    "_comment": "FaceDetailer \u2014 fix face artifacts, denoise 0.25 to stay subtle",
    "inputs": {
      "image": [
        "10",
        0
      ],
      "model": [
        "3",
        0
      ],
      "clip": [
        "3",
        1
      ],
      "vae": [
        "1",
        2
      ],
      "positive": [
        "4",
        0
      ],
      "negative": [
        "5",
        0
      ],
      "bbox_detector": [
        "11",
        0
      ],
      "sam_model_opt": [
        "12",
        0
      ],
      "guide_size": 512,
      "guide_size_for": true,
      "max_size": 1024,
      "seed": 333444,
      "steps": 20,
      "cfg": 7.0,
      "sampler_name": "euler",
      "scheduler": "normal",
      "denoise": 0.25,
      "feather": 5,
      "noise_mask": true,
      "force_inpaint": true,
      "bbox_threshold": 0.5,
      "bbox_dilation": 10,
      "bbox_crop_factor": 3.0,
      "sam_detection_hint": "center-1",
      "sam_dilation": 0,
      "sam_threshold": 0.93,
      "sam_bbox_expansion": 0,
      "sam_mask_hint_threshold": 0.7,
      "sam_mask_hint_use_negative": "False",
      "drop_size": 10,
      "wildcard": "",
      "cycle": 1,
      "inpaint_model": false,
      "noise_mask_feather": 20
    }
  },
  "14": {
    "class_type": "Upscale Model Loader",
    "_comment": "RealESRGAN Anime6B \u2014 best for cel shading anime style",
    "inputs": {
      "model_name": "RealESRGAN_x4plus_anime_6B.pth"
    }
  },
  "15": {
    "class_type": "UltimateSDUpscale",
    "_comment": "Final upscale x2 \u2014 output ~2080x3040px",
    "inputs": {
      "image": [
        "13",
        0
      ],
      "model": [
        "3",
        0
      ],
      "positive": [
        "4",
        0
      ],
      "negative": [
        "5",
        0
      ],
      "vae": [
        "1",
        2
      ],
      "upscale_model": [
        "14",
        0
      ],
      "seed": 333444,
      "steps": 20,
      "cfg": 5.5,
      "sampler_name": "euler",
      "scheduler": "normal",
      "denoise": 0.2,
      "mode_type": "Linear",
      "tile_width": 512,
      "tile_height": 512,
      "mask_blur": 8,
      "tile_padding": 32,
      "seam_fix_mode": "None",
      "seam_fix_denoise": 0.35,
      "seam_fix_width": 64,
      "seam_fix_mask_blur": 8,
      "seam_fix_padding": 16,
      "force_uniform_tiles": true,
      "tiled_decode": false,
      "upscale_by": 2.0,
      "batch_size": 1
    }
  },
  "16": {
    "class_type": "SaveImage",
    "inputs": {
      "images": [
        "15",
        0
      ],
      "filename_prefix": "bebop_avatar"
    }
  }
}